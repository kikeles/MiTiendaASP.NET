(function(){var t={46700:function(t,e,a){var o={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=s,t.exports=i,i.id=46700},89208:function(t,e,a){"use strict";a(66992),a(88674),a(19601),a(17727);var o=a(28935),i=a(3529);a(77392);o.Z.use(i.ZP,{theme:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"md"});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[t.logueado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-tile",{attrs:{to:{name:"home"}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-title",[t._v(" Inicio ")])],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Almacén ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"categorias"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Categorías ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"articulos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Aticulos ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Compras ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"ingresos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Ingresos ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedores"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Proveedores ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esVendedor?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Ventas ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"ventas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Ventas ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"clientes"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Clientes ")])],1)],1)],1)]:t._e(),t.esAdministrador?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Accesos ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"roles"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Roles ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"usuarios"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Usuarios ")])],1)],1)],1)]:t._e(),t.esAdministrador?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Consultas ")])],1)],1),a("v-list-tile",{attrs:{to:{name:""}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Consulta Compras ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"consultaventas"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(" Consulta Ventas ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema")])],1),a("v-spacer"),t.logueado?a("v-btn",{attrs:{icon:""},on:{click:t.salir}},[a("v-icon",[t._v("logout")]),t._v(" Salir ")],1):a("v-btn",{attrs:{to:{name:"login"},icon:""}},[a("v-icon",[t._v("apps")]),t._v(" Login ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v(" MiTienda ©2022 ")])],1)],1)],1)],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-img",{staticClass:"my-3",attrs:{src:a(69574),contain:"",height:"200"}})],1),o("v-flex",{attrs:{"mb-4":""}},[o("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Welcome to Vuetify ")]),o("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),o("br"),t._v("please join our online "),o("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),o("v-flex",{attrs:{"mb-5":"",xs12:""}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),o("v-layout",{attrs:{"justify-center":""}},t._l(t.whatsNext,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),o("v-flex",{attrs:{xs12:"","mb-5":""}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),o("v-layout",{attrs:{"justify-center":""}},t._l(t.importantLinks,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),o("v-flex",{attrs:{xs12:"","mb-5":""}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),o("v-layout",{attrs:{"justify-center":""}},t._l(t.ecosystem,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)},l=[],c={data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuetifyjs.com"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},d=c,u=a(1001),v=a(43453),m=a.n(v),h=a(4228),p=a(55972),f=a(21446),b=a(24470),_=(0,u.Z)(d,n,l,!1,null,null,null),x=_.exports;m()(_,{VContainer:h.Z,VFlex:p.Z,VImg:f.Z,VLayout:b.Z});var g={name:"App",components:{HelloWorld:x},data:function(){return{drawer:null}},computed:{logueado:function(){return this.$store.state.usuario},esAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esAlmacenero:function(){return this.$store.state.usuario&&"Almacenero"==this.$store.state.usuario.rol},esVendedor:function(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{salir:function(){this.$store.dispatch("salir")}}},k=g,C=a(3691),A=a(47708),y=a(45981),j=a(80223),V=a(26968),w=a(72620),T=a(73042),D=a(52924),I=a(33938),M=a(41108),Z=a(55463),N=a(16243),P=a(51621),S=a(29895),E=a(80345),F=a(22545),z=a(88848),B=a(27921),L=(0,u.Z)(k,s,r,!1,null,null,null),O=L.exports;m()(L,{VApp:C.Z,VBtn:A.Z,VCard:y.Z,VCardText:j.ZB,VContainer:h.Z,VContent:V.Z,VFlex:p.Z,VFooter:w.Z,VIcon:T.Z,VLayout:b.Z,VList:D.Z,VListGroup:I.Z,VListTile:M.Z,VListTileAction:Z.Z,VListTileContent:N.$B,VListTileTitle:N.J0,VNavigationDrawer:P.Z,VSlideYTransition:S.cu,VSpacer:E.Cl,VToolbar:F.Z,VToolbarSideIcon:z.Z,VToolbarTitle:B.qW});a(41539);var $=a(12809),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-m":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("div",[a("canvas",{attrs:{id:"myChart"}})])])],1)],1)},q=[],R=(a(21249),a(26166)),G=a.n(R),W=a(55395),H=a.n(W),K={name:"HomeView",components:{HelloWorld:x},data:function(){return{mesesValores:null,nombreMeses:[],totalMeses:[]}},methods:{loadProductosMasVendidos:function(){var t=this,e="";t.mesesValores.map((function(a){switch(parseInt(a.etiqueta)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Setiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="Error"}t.nombreMeses.push(e),t.totalMeses.push(a.valor)}));var a=document.getElementById("myChart");new(H())(a,{type:"bar",data:{labels:t.nombreMeses,datasets:[{label:"Ventas en los últimos 12 Meses",data:t.totalMeses,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},getProductosMasVendidos:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Ventas/VentasMes12",a).then((function(e){t.mesesValores=e.data,t.loadProductosMasVendidos()})).catch((function(t){console.log(t)}))}},mounted:function(){this.getProductosMasVendidos()}},X=K,Q=(0,u.Z)(X,U,q,!1,null,null,null),J=Q.exports;m()(Q,{VContainer:h.Z,VFlex:p.Z,VLayout:b.Z});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("Activar")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar")]):t._e(),t._v(" el ítem "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v(" edit ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v(" check ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},tt=[],et=(a(40561),{data:function(){return{categorias:[],search:"",id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva categoría":"Actualizar categoría"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Categorias/Listar",a).then((function(e){t.categorias=e.data})).catch((function(t){console.log(t)}))},editItem:function(t){this.id=t.idcategoria,this.nombre=t.nombre,this.descripcion=t.descripcion,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;G().put("api/Categorias/Actualizar",{idcategoria:a.id,nombre:a.nombre,descripcion:a.descripcion},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}else{var o=this;G().post("api/Categorias/Crear",{nombre:o.nombre,descripcion:o.descripcion},e).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idcategoria,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Categorias/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Categorias/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}}}),at=et,ot=a(74641),it=a(91061),st=a(40595),rt=a(14497),nt=a(31989),lt=(0,u.Z)(at,Y,tt,!1,null,null,null),ct=lt.exports;m()(lt,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v(" print ")])],1),a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.idcategoria,callback:function(e){t.idcategoria=e},expression:"idcategoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Precio venta"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("Activar")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar")]):t._e(),t._v(" el ítem "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v(" edit ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v(" check ")])]],2),a("td",[t._v(t._s(e.item.codigo))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.categoria))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.precio_venta))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},ut=[],vt=a(47424),mt=a(6588),ht=a.n(mt),pt={data:function(){return{articulos:[],search:"",id:"",idcategoria:"",categorias:[],codigo:"",nombre:"",stock:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Categoría",value:"categoria"},{text:"Stock",value:"stock",sortable:!1},{text:"Precio venta",value:"precio_venta",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo artículo":"Actualizar artículo"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=[{header:"Nombre",datakey:"nombre"},{header:"Código",datakey:"codigo"},{header:"Categoría",datakey:"categoria"},{header:"Stock",datakey:"stock"},{header:"Precio venta",datakey:"precio_venta"}],e=[];this.articulos.map((function(t){e.push([t.nombre,t.codigo,t.categoria,t.stock,t.precio_venta])}));var a=new vt["default"]("p","pt");ht()(a,{margin:{top:60},columns:t,body:e,didDrawPage:function(t){a.text("Listado de Artículos",40,30)}}),a.save("Articulos.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Articulos/Listar",a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Categorias/Select",o).then((function(a){e=a.data,e.map((function(e){t.categorias.push({text:e.nombre,value:e.idcategoria})}))})).catch((function(t){console.log(t)}))},editItem:function(t){this.id=t.idarticulo,this.idcategoria=t.idcategoria,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precio_venta=t.precio_venta,this.descripcion=t.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idcategoria="",this.codigo="",this.nombre="",this.stock="",this.precio_venta="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;G().put("api/Articulos/Actualizar",{idarticulo:a.id,idcategoria:a.idcategoria,codigo:a.codigo,nombre:a.nombre,stock:a.stock,precio_venta:a.precio_venta,descripcion:a.descripcion},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}else{var o=this;G().post("api/Articulos/Crear",{idcategoria:o.idcategoria,codigo:o.codigo,nombre:o.nombre,stock:o.stock,precio_venta:o.precio_venta,descripcion:o.descripcion},e).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.idcategoria||this.validaMensaje.push("Seleccione una categoría."),this.stock&&0!=this.stock||this.validaMensaje.push("Ingrese el stock inicial del artículo."),this.precio_venta&&0!=this.precio_venta||this.validaMensaje.push("Ingrese el precio de venta del artículo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idarticulo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Articulos/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Articulos/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}}},ft=pt,bt=a(56359),_t=(0,u.Z)(ft,dt,ut,!1,null,null,null),xt=_t.exports;m()(_t,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Roles")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.roles,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},kt=[],Ct={data:function(){return{roles:[],search:"",dialog:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}]}},computed:{},watch:{},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Roles/Listar",a).then((function(e){t.roles=e.data})).catch((function(t){console.log(t)}))}}},At=Ct,yt=(0,u.Z)(At,gt,kt,!1,null,null,null),jt=yt.exports;m()(yt,{VBtn:A.Z,VDataTable:it.Z,VDivider:rt.Z,VFlex:p.Z,VLayout:b.Z,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.idrol,callback:function(e){t.idrol=e},expression:"idrol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Contraseña"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("Activar")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar")]):t._e(),t._v(" el ítem "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v(" edit ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(1,e.item)}}},[t._v(" check ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.rol))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},wt=[],Tt={data:function(){return{usuarios:[],search:"",id:"",idrol:"",roles:[],nombre:"",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",password:"",actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Rol",value:"rol"},{text:"Tipo documento",value:"tipo_documento"},{text:"Número documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Actualizar usuario"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Usuarios/Listar",a).then((function(e){t.usuarios=e.data})).catch((function(t){console.log(t)}))},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Roles/Select",o).then((function(a){e=a.data,e.map((function(e){t.roles.push({text:e.nombre,value:e.idrol})}))})).catch((function(t){console.log(t)}))},editItem:function(t){this.id=t.idusuario,this.idrol=t.idrol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password_hash,this.passwordAnt=t.password_hash,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idrol="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.passwordAnt="",this.actPassword=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;a.password!=a.passwordAnt&&(a.actPassword=!0),G().put("api/Usuarios/Actualizar",{idusuario:a.id,idrol:a.idrol,nombre:a.nombre,tipo_documento:a.tipo_documento,num_documento:a.num_documento,direccion:a.direccion,telefono:a.telefono,email:a.email,password:a.password,act_password:a.actPassword},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}else{var o=this;G().post("api/Usuarios/Crear",{idrol:o.idrol,nombre:o.nombre,tipo_documento:o.tipo_documento,num_documento:o.num_documento,direccion:o.direccion,telefono:o.telefono,email:o.email,password:o.password},e).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.idrol||this.validaMensaje.push("Seleccione un rol."),this.tipo_documento||this.validaMensaje.push("Seleccione un tipo documento."),this.email||this.validaMensaje.push("Ingrese el email del usuario."),this.password||this.validaMensaje.push("Ingrese el password del usuario."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idusuario,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Usuarios/Activar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Usuarios/Desactivar/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}}},Dt=Tt,It=(0,u.Z)(Dt,Vt,wt,!1,null,null,null),Mt=It.exports;m()(It,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clientes,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v(" edit ")])],1),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.tipo_persona))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},Nt=[],Pt={data:function(){return{clientes:[],search:"",id:"",nombre:"",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Tipo persona",value:"tipo_persona"},{text:"Tipo documento",value:"tipo_documento"},{text:"Número documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1}],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo cliente":"Actualizar cliente"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Personas/ListarClientes",a).then((function(e){t.clientes=e.data})).catch((function(t){console.log(t)}))},editItem:function(t){this.id=t.idpersona,this.idrol=t.idrol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;G().put("api/Personas/Actualizar",{idpersona:a.id,tipo_persona:"Cliente",nombre:a.nombre,tipo_documento:a.tipo_documento,num_documento:a.num_documento,direccion:a.direccion,telefono:a.telefono,email:a.email},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}else{var o=this;G().post("api/Personas/Crear",{tipo_persona:"Cliente",nombre:o.nombre,tipo_documento:o.tipo_documento,num_documento:o.num_documento,direccion:o.direccion,telefono:o.telefono,email:o.email},e).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.tipo_documento||this.validaMensaje.push("Seleccione un tipo documento."),this.validaMensaje.length&&(this.valida=1),this.valida}}},St=Pt,Et=(0,u.Z)(St,Zt,Nt,!1,null,null,null),Ft=Et.exports;m()(Et,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedores")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proveedores,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v(" edit ")])],1),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.tipo_persona))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},Bt=[],Lt={data:function(){return{proveedores:[],search:"",id:"",nombre:"",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Tipo persona",value:"tipo_persona"},{text:"Tipo documento",value:"tipo_documento"},{text:"Número documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1}],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo proveedor":"Actualizar proveedor"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Personas/ListarProveedores",a).then((function(e){t.proveedores=e.data})).catch((function(t){console.log(t)}))},editItem:function(t){this.id=t.idpersona,this.idrol=t.idrol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;G().put("api/Personas/Actualizar",{idpersona:a.id,tipo_persona:"Proveedor",nombre:a.nombre,tipo_documento:a.tipo_documento,num_documento:a.num_documento,direccion:a.direccion,telefono:a.telefono,email:a.email},e).then((function(t){a.close(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}else{var o=this;G().post("api/Personas/Crear",{tipo_persona:"Proveedor",nombre:o.nombre,tipo_documento:o.tipo_documento,num_documento:o.num_documento,direccion:o.direccion,telefono:o.telefono,email:o.email},e).then((function(t){o.close(),o.listar(),o.limpiar()})).catch((function(t){console.log(t)}))}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.tipo_documento||this.validaMensaje.push("Seleccione un tipo documento."),this.validaMensaje.length&&(this.valida=1),this.valida}}},Ot=Lt,$t=(0,u.Z)(Ot,zt,Bt,!1,null,null,null),Ut=$t.exports;m()($t,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",[t._v(" Acceso al Sistema ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.error?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.error)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},Rt=[],Gt={data:function(){return{email:"",password:"",error:null}},methods:{ingresar:function(){var t=this;this.error=null,G().post("api/Usuarios/Login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.token),t.$router.push({name:"home"})})).catch((function(e){400==e.response.status?t.error="No es un email válido.":404==e.response.status?t.error="No existe el usuario o sus datos son incorrectos.":t.error="Ocurrió un error."}))}}},Wt=Gt,Ht=(0,u.Z)(Wt,qt,Rt,!1,null,null,null),Kt=Ht.exports;m()(Ht,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VFlex:p.Z,VLayout:b.Z,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.listar()}}},[t._v("Buscar")]):t._e(),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.mostrarNuevo}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.verArticulos,callback:function(e){t.verArticulos=e},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulo()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.agregarDetalle(e.item)}}},[t._v(" add ")])],1),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.categoria))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.precio))])]}},{key:"no-data",fn:function(){return[a("h3",[t._v("No hay artículos para mostrar.")])]},proxy:!0}])})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(e){return t.ocultarArticulos()}}},[t._v(" Cancelar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Anular Ingreso?")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("Activar")]):t._e(),2==t.adAccion?a("span",[t._v("Anular")]):t._e(),t._v(" el ítem "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v(" Anular ")]):t._e()],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ingresos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.verDetalles(e.item)}}},[t._v(" tab ")]),"Aceptado"==e.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v(" block ")])]:t._e()],2),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.proveedor))]),a("td",[t._v(t._s(e.item.tipo_comprobante))]),a("td",[t._v(t._s(e.item.serie_comprobante))]),a("td",[t._v(t._s(e.item.num_comprobante))]),a("td",[t._v(t._s(e.item.fecha_hora))]),a("td",[t._v(t._s(e.item.impuesto))]),a("td",[t._v(t._s(e.item.total))]),a("td",["Aceptado"==e.item.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v(t._s(e.item.estado))])])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])]},proxy:!0}],null,!1,3057480401)}):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-select",{attrs:{items:t.proveedores,label:"Proveedor"},model:{value:t.idproveedor,callback:function(e){t.idproveedor=e},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),t.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.eliminarDetalle(t.detalles,e.item)}}},[t._v(" delete ")])],1),a("td",[t._v(t._s(e.item.articulo))]),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.cantidad,callback:function(a){t.$set(e.item,"cantidad",a)},expression:"props.item.cantidad"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.precio,callback:function(a){t.$set(e.item,"precio",a)},expression:"props.item.precio"}})],1),a("td",[t._v("$"+t._s(e.item.cantidad*e.item.precio))])]}},{key:"no-data",fn:function(){return[a("h3",[t._v("No hay artículos agregados al detalle.")])]},proxy:!0}],null,!1,457078942)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $"+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto:")]),t._v(" $"+t._s(t.totalImpuesto=(t.total*t.impuesto/(100+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto:")]),t._v(" $"+t._s(t.total=t.calcularTotal.toFixed(2))+" ")])],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDet?a("v-btn",{attrs:{color:"success",flat:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1)],1)],1):t._e()],1)],1)},Qt=[],Jt=(a(74916),a(64765),{data:function(){return{ingresos:[],search:"",id:"",idproveedor:"",proveedores:[],tipo_comprobante:"",comprobantes:["FACTURA","BOLETA","TICKET","GUIA"],serie_comprobante:"",num_comprobante:"",impuesto:16,codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],detalles:[],verDet:0,verNuevo:0,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Artículo",value:"articulo"},{text:"categoría",value:"categoria"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio venta",value:"precio_venta",sortable:!1}],articulos:[],texto:"",verArticulos:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario"},{text:"Proveedor",value:"proveedor"},{text:"Tipo comprobante",value:"tipo_comprobante"},{text:"Serie comprobante",value:"serie_comprobante",sortable:!1},{text:"Número comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"fecha_hora",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}]}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].precio*this.detalles[e].cantidad;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},buscarCodigo:function(){var t=this;t.errorArticulo=null;var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Articulos/BuscarCodigoIngreso/"+this.codigo,a).then((function(e){t.agregarDetalle(e.data)})).catch((function(e){console.log(e),t.errorArticulo="No existe el artículo."}))},listarArticulo:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Articulos/ListarIngreso/"+t.texto,a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentra(t["idarticulo"])?this.errorArticulo="El artículo ya ha sido agregado.":this.detalles.push({idarticulo:t["idarticulo"],articulo:t["nombre"],cantidad:1,precio:1})},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a].idarticulo==t&&(e=1);return e},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},o="";o=t.search?"api/Ingresos/ListarFiltro/"+t.search:"api/Ingresos/Listar",G().get(o,a).then((function(e){t.ingresos=e.data})).catch((function(t){console.log(t)}))},listarDetalles:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Ingresos/ListarDetalles/"+t,o).then((function(t){e.detalles=t.data})).catch((function(t){console.log(t)}))},verDetalles:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.idproveedor=t.idproveedor,this.impuesto=t.impuesto,this.listarDetalles(t.idingreso),this.verNuevo=1,this.verDet=1},eliminarDetalle:function(t,e){var a=t.indexOf(e);-1!==a&&t.splice(a,1)},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Personas/SelectProveedores",o).then((function(a){e=a.data,e.map((function(e){t.proveedores.push({text:e.nombre,value:e.idpersona})}))})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.idproveedor="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.impuesto=16,this.codigo="",this.detalles=[],this.total=0,this.totalImpuesto=0,this.totalParcial=0,this.verDet=0},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t},a=this;G().post("api/Ingresos/Crear",{idproveedor:a.idproveedor,idusuario:a.$store.state.usuario.idusuario,tipo_comprobante:a.tipo_comprobante,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,impuesto:a.impuesto,total:a.total,detalles:a.detalles},e).then((function(t){a.ocultarNuevo(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idproveedor||this.validaMensaje.push("Seleccione un proveedor."),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante."),this.num_comprobante||this.validaMensaje.push("Ingrese el número del comprobante."),(!this.impuesto||this.impuesto<0)&&this.validaMensaje.push("Ingrese un impuesto válido."),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.num_comprobante,this.adId=e.idingreso,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Ingresos/Anular/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}}}),Yt=Jt,te=(0,u.Z)(Yt,Xt,Qt,!1,null,null,null),ee=te.exports;m()(te,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ventas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.listar()}}},[t._v("Buscar")]):t._e(),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.mostrarNuevo}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.verArticulos,callback:function(e){t.verArticulos=e},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulo()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.agregarDetalle(e.item)}}},[t._v(" add ")])],1),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.categoria))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.precio_venta))])]}}])},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(e){return t.ocultarArticulos()}}},[t._v(" Cancelar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Anular Venta?")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Anular ")]):t._e(),t._v(" el ítem "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v(" Anular ")]):t._e()],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.verDetalles(e.item)}}},[t._v(" tab ")]),"Aceptado"==e.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){return t.activarDesactivarMostrar(2,e.item)}}},[t._v(" block ")])]:t._e()],2),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.tipo_comprobante))]),a("td",[t._v(t._s(e.item.serie_comprobante))]),a("td",[t._v(t._s(e.item.num_comprobante))]),a("td",[t._v(t._s(e.item.fecha_hora))]),a("td",[t._v(t._s(e.item.impuesto))]),a("td",[t._v(t._s(e.item.total))]),a("td",["Aceptado"==e.item.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v(t._s(e.item.estado))])])])]}}],null,!1,82090489)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-select",{attrs:{items:t.clientes,label:"Cliente"},model:{value:t.idcliente,callback:function(e){t.idcliente=e},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),t.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.eliminarDetalle(t.detalles,e.item)}}},[t._v(" delete ")])],1),a("td",[t._v(t._s(e.item.articulo))]),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.cantidad,callback:function(a){t.$set(e.item,"cantidad",a)},expression:"props.item.cantidad"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.precio,callback:function(a){t.$set(e.item,"precio",a)},expression:"props.item.precio"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.descuento,callback:function(a){t.$set(e.item,"descuento",a)},expression:"props.item.descuento"}})],1),a("td",[t._v("$ "+t._s(e.item.cantidad*e.item.precio-e.item.descuento))])]}}],null,!1,2746151834)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial: ")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto: ")]),t._v("$ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(100+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto: ")]),t._v("$ "+t._s(t.total=t.calcularTotal.toFixed(2))+" ")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1)],1)],1):t._e()],1)],1)},oe=[],ie={data:function(){return{ventas:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario"},{text:"Cliente",value:"cliente"},{text:"Tipo Comprobante",value:"tipo_comprobante"},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"fecha_hora",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],detalles:[],search:"",id:"",idcliente:"",clientes:[],tipo_comprobante:"",comprobantes:["FACTURA","BOLETA","TICKET","GUIA"],serie_comprobante:"",num_comprobante:"",impuesto:16,codigo:"",verNuevo:0,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Artículo",value:"articulo"},{text:"Categoría",value:"categoria"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1}],articulos:[],texto:"",verArticulos:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].precio*this.detalles[e].cantidad-this.detalles[e].descuento;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},buscarCodigo:function(){var t=this;t.errorArticulo=null;var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Articulos/BuscarCodigoVenta/"+this.codigo,a).then((function(e){t.agregarDetalle(e.data)})).catch((function(e){console.log(e),t.errorArticulo="No existe el artículo"}))},listarArticulo:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().get("api/Articulos/ListarVenta/"+t.texto,a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentra(t["idarticulo"])?this.errorArticulo="El artículo ya ha sido agregado.":this.detalles.push({idarticulo:t["idarticulo"],articulo:t["nombre"],cantidad:1,precio:t["precio_venta"],descuento:0})},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a].idarticulo==t&&(e=1);return e},eliminarDetalle:function(t,e){var a=t.indexOf(e);-1!==a&&t.splice(a,1)},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},o="";o=t.search?"api/Ventas/ListarFiltro/"+t.search:"api/Ventas/Listar",G().get(o,a).then((function(e){t.ventas=e.data})).catch((function(t){console.log(t)}))},listarDetalles:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Ventas/ListarDetalles/"+t,o).then((function(t){e.detalles=t.data})).catch((function(t){console.log(t)}))},verDetalles:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.idcliente=t.idcliente,this.impuesto=t.impuesto,this.listarDetalles(t.idventa),this.verNuevo=1,this.verDet=1},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Personas/SelectClientes",o).then((function(a){e=a.data,e.map((function(e){t.clientes.push({text:e.nombre,value:e.idpersona})}))})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.idcliente="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.impuesto="16",this.codigo="",this.detalles=[],this.total=0,this.totalImpuesto=0,this.totalParcial=0,this.verDet=0},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t},a=this;G().post("api/Ventas/Crear",{idcliente:a.idcliente,idusuario:a.$store.state.usuario.idusuario,tipo_comprobante:a.tipo_comprobante,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,impuesto:a.impuesto,total:a.total,detalles:a.detalles},e).then((function(t){a.ocultarNuevo(),a.listar(),a.limpiar()})).catch((function(t){console.log(t)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idcliente||this.validaMensaje.push("Seleccione un cliente."),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante."),this.num_comprobante||this.validaMensaje.push("Ingrese el número del comprobante."),(!this.impuesto||this.impuesto<0)&&this.validaMensaje.push("Ingrese un impuesto válido."),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.num_comprobante,this.adId=e.idventa,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};G().put("api/Ventas/Anular/"+this.adId,{},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))}}},se=ie,re=(0,u.Z)(se,ae,oe,!1,null,null,null),ne=re.exports;m()(re,{VBtn:A.Z,VCard:y.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:ot.Z,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Consulta Ventas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),t._v(" Desde:  "),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{type:"date"},model:{value:t.fechaInicio,callback:function(e){t.fechaInicio=e},expression:"fechaInicio"}}):t._e(),t._v(" Hasta:  "),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{type:"date"},model:{value:t.fechaFin,callback:function(e){t.fechaFin=e},expression:"fechaFin"}}):t._e(),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.listar()}}},[t._v("Buscar")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.comprobanteModal,callback:function(e){t.comprobanteModal=e},expression:"comprobanteModal"}},[a("v-card",[a("v-card-text",[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"logo"}},[a("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC",id:"imagen"}})]),a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}},[a("b",[t._v("MiTienda")]),a("br"),t._v(" Calle San Luis, Autocinema, 44230 Guadalajara, Jal. México "),a("br"),t._v(" Telefono:(+52)1234567891 "),a("br"),t._v(" Email:mitienda@email.com ")])]),a("div",{attrs:{id:"fact"}},[a("p",[t._v(t._s(t.tipo_comprobante)),a("br"),t._v(" "+t._s(t.serie_comprobante)+"-"+t._s(t.num_comprobante)),a("br"),t._v(" "+t._s(t.fecha_hora))])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[t._v("Sr(a). "+t._s(t.cliente))]),a("br"),a("strong",[t._v("Documento:")]),t._v(" "+t._s(t.num_documento)),a("br"),a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.direccion)),a("br"),a("strong",[t._v("Teléfono:")]),t._v(" "+t._s(t.telefono)),a("br"),a("strong",[t._v("Email:")]),t._v(" "+t._s(t.email)+" ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[t._v("CANT")]),a("th",[t._v("DESCRIPCION")]),a("th",[t._v("PRECIO UNIT")]),a("th",[t._v("DESC.")]),a("th",[t._v("PRECIO TOTAL")])])]),a("tbody",t._l(t.detalles,(function(e){return a("tr",{key:e.iddetalle_venta},[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.cantidad))]),a("td",[t._v(t._s(e.articulo))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.precio.toFixed(2)))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.descuento.toFixed(2)))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s((e.cantidad*e.precio-e.descuento).toFixed(2)))])])})),0),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("IGV ("+t._s(t.impuesto)+"%)")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(100+t.impuesto)).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.total=t.calcularTotal.toFixed(2)))])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[t._v("Gracias por su compra!")])])])])]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarComprobante()}}},[t._v("Cancelar")])],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.verDetalles(e.item)}}},[t._v(" tab ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.mostrarComprobante(e.item)}}},[t._v(" print ")])],1),a("td",[t._v(t._s(e.item.usuario))]),a("td",[t._v(t._s(e.item.cliente))]),a("td",[t._v(t._s(e.item.tipo_comprobante))]),a("td",[t._v(t._s(e.item.serie_comprobante))]),a("td",[t._v(t._s(e.item.num_comprobante))]),a("td",[t._v(t._s(e.item.fecha_hora))]),a("td",[t._v(t._s(e.item.impuesto))]),a("td",[t._v(t._s(e.item.total))]),a("td",["Aceptado"==e.item.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v(t._s(e.item.estado))])])])]}}],null,!1,2657696541)},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-select",{attrs:{items:t.clientes,label:"Cliente"},model:{value:t.idcliente,callback:function(e){t.idcliente=e},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),t.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.articulo))]),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.cantidad,callback:function(a){t.$set(e.item,"cantidad",a)},expression:"props.item.cantidad"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.precio,callback:function(a){t.$set(e.item,"precio",a)},expression:"props.item.precio"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.descuento,callback:function(a){t.$set(e.item,"descuento",a)},expression:"props.item.descuento"}})],1),a("td",[t._v("$ "+t._s(e.item.cantidad*e.item.precio-e.item.descuento))])]}}],null,!1,2133910680)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial: ")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto: ")]),t._v("$ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(100+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto: ")]),t._v("$ "+t._s(t.total=t.calcularTotal.toFixed(2))+" ")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1)],1)],1):t._e()],1)],1)},ce=[],de=a(56986),ue=a.n(de),ve={data:function(){return{ventas:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario"},{text:"Cliente",value:"cliente"},{text:"Tipo Comprobante",value:"tipo_comprobante"},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"fecha_hora",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],detalles:[],search:"",id:"",idcliente:"",clientes:[],tipo_comprobante:"",comprobantes:["FACTURA","BOLETA","TICKET","GUIA"],serie_comprobante:"",num_comprobante:"",impuesto:18,codigo:"",verNuevo:0,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Artículo",value:"articulo"},{text:"Categoría",value:"categoria"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1}],articulos:[],texto:"",verArticulos:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",comprobanteModal:0,cliente:"",fecha_hora:"",num_documento:"",direccion:"",telefono:"",email:"",fechaInicio:"",fechaFin:""}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].precio*this.detalles[e].cantidad-this.detalles[e].descuento;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var t=document.getElementById("factura");ue()(t).then((function(t){var e=t.toDataURL("image/png"),a=210,o=t.height*a/t.width,i=new vt["default"],s=0;i.addImage(e,"PNG",0,s,a,o),i.save("ComprobanteVenta.pdf")}))},mostrarComprobante:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.cliente=t.cliente,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.fecha_hora=t.fecha_hora,this.impuesto=t.impuesto,this.listarDetalles(t.idventa),this.comprobanteModal=1},ocultarComprobante:function(){this.comprobanteModal=0,this.limpiar()},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},agregarDetalle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentra(t["idarticulo"])?this.errorArticulo="El artículo ya ha sido agregado.":this.detalles.push({idarticulo:t["idarticulo"],articulo:t["nombre"],cantidad:1,precio:t["precio_venta"],descuento:0})},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a].idarticulo==t&&(e=1);return e},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},o="";o=t.fechaInicio&&t.fechaFin?"api/Ventas/ConsultaFechas/"+t.fechaInicio+"/"+t.fechaFin:"api/Ventas/Listar",G().get(o,a).then((function(e){t.ventas=e.data})).catch((function(t){console.log(t)}))},listarDetalles:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Ventas/ListarDetalles/"+t,o).then((function(t){e.detalles=t.data})).catch((function(t){console.log(t)}))},verDetalles:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.idcliente=t.idcliente,this.impuesto=t.impuesto,this.listarDetalles(t.idventa),this.verNuevo=1,this.verDet=1},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};G().get("api/Personas/SelectClientes",o).then((function(a){e=a.data,e.map((function(e){t.clientes.push({text:e.nombre,value:e.idpersona})}))})).catch((function(t){console.log(t)}))},limpiar:function(){this.id="",this.idcliente="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.impuesto="18",this.codigo="",this.detalles=[],this.total=0,this.totalImpuesto=0,this.totalParcial=0,this.verDet=0}}},me=ve,he=(0,u.Z)(me,le,ce,!1,null,null,null),pe=he.exports;m()(he,{VBtn:A.Z,VCard:y.Z,VCardText:j.ZB,VContainer:h.Z,VDataTable:it.Z,VDialog:st.Z,VDivider:rt.Z,VFlex:p.Z,VIcon:T.Z,VLayout:b.Z,VSelect:bt.r,VSpacer:E.Cl,VTextField:nt.h,VToolbar:F.Z,VToolbarTitle:B.qW});var fe=a(34665),be=a(83990);o.Z.use(fe.ZP);var _e=new fe.ZP.Store({state:{token:null,usuario:null},getters:{},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",(0,be.Z)(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",(0,be.Z)(a))),ke.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),ke.push({name:"login"})}},modules:{}});o.Z.use($.Z);var xe=[{path:"/",name:"home",component:J,meta:{administrador:!0,almacenero:!0,vendedor:!0}},{path:"/categorias",name:"categorias",component:ct,meta:{administrador:!0,almacenero:!0}},{path:"/articulos",name:"articulos",component:xt,meta:{administrador:!0,almacenero:!0}},{path:"/ingresos",name:"ingresos",component:ee,meta:{administrador:!0,almacenero:!0}},{path:"/roles",name:"roles",component:jt,meta:{administrador:!0}},{path:"/usuarios",name:"usuarios",component:Mt,meta:{administrador:!0}},{path:"/clientes",name:"clientes",component:Ft,meta:{administrador:!0,vendedor:!0}},{path:"/ventas",name:"ventas",component:ne,meta:{administrador:!0,vendedor:!0}},{path:"/consultaventas",name:"consultaventas",component:pe,meta:{administrador:!0}},{path:"/proveedores",name:"proveedores",component:Ut,meta:{administrador:!0,almacenero:!0}},{path:"/login",name:"login",component:Kt,meta:{libre:!0}}],ge=new $.Z({mode:"history",base:"/",routes:xe});ge.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.libre}))?a():_e.state.usuario&&"Administrador"==_e.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():_e.state.usuario&&"Almacenero"==_e.state.usuario.rol?t.matched.some((function(t){return t.meta.almacenero}))&&a():_e.state.usuario&&"Vendedor"==_e.state.usuario.rol?t.matched.some((function(t){return t.meta.vendedor}))&&a():a({name:"login"})}));var ke=ge;o.Z.config.productionTip=!1,G().defaults.baseURL="http://localhost:58190/",new o.Z({router:ke,store:_e,render:function(t){return t(O)}}).$mount("#app")},69574:function(t,e,a){"use strict";t.exports=a.p+"img/logo.4d6033c9.svg"}},e={};function a(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){var t=[];a.O=function(e,o,i,s){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],s=t[d][2];for(var n=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(n=!1,s<r&&(r=s));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[o,i,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var s=Object.create(null);a.r(s);var r={};t=t||[null,e({}),e([]),e(e)];for(var n=2&i&&o;"object"==typeof n&&!~t.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach((function(t){r[t]=function(){return o[t]}}));return r["default"]=function(){return o},a.d(s,r),s}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,o){return a.f[o](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"-legacy."+{478:"71dd75ab",581:"d7d0fbc2"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="sistema:";a.l=function(o,i,s,r){if(t[o])t[o].push(i);else{var n,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+s){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+s),n.src=o),t[o]=[i];var v=function(e,a){n.onerror=n.onload=null,clearTimeout(m);var i=t[o];if(delete t[o],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(v.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=v.bind(null,n.onerror),n.onload=v.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){var t={143:0};a.f.j=function(e,o){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)o.push(i[2]);else{var s=new Promise((function(a,o){i=t[e]=[a,o]}));o.push(i[2]=s);var r=a.p+a.u(e),n=new Error,l=function(o){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var s=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;n.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",n.name="ChunkLoadError",n.type=s,n.request=r,i[1](n)}};a.l(r,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,r=o[0],n=o[1],l=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var d=l(a)}for(e&&e(o);c<r.length;c++)s=r[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},o=self["webpackChunksistema"]=self["webpackChunksistema"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(89208)}));o=a.O(o)})();
//# sourceMappingURL=app-legacy.9ee50212.js.map